<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Spelling Bee</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;800;900&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --gold: #d4af37;
  --gold-dim: rgba(212,175,55,0.5);
  --gold-glow: rgba(212,175,55,0.15);
  --bg: #0c0a13;
  --card: rgba(30,26,46,0.97);
  --text: #f0ece2;
  --text-dim: rgba(255,255,255,0.55);
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html, body {
  height: 100%; overflow: hidden;
  background: var(--bg); color: var(--text);
  font-family: 'DM Sans', sans-serif;
  -webkit-user-select: none; user-select: none;
  -webkit-tap-highlight-color: transparent;
  -webkit-text-size-adjust: 100%;
}
body {
  display: flex; flex-direction: column;
  padding-top: var(--safe-top);
  padding-bottom: var(--safe-bottom);
  background: linear-gradient(170deg, #0c0a13 0%, #1a1528 45%, #110e1c 100%);
}

/* Header */
.header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 12px 16px 6px; flex-shrink: 0;
}
.header-left { display: flex; align-items: center; gap: 9px; }
.header-left span { font-size: 22px; }
.header-left h1 {
  font-family: 'Playfair Display', serif;
  font-size: 20px; font-weight: 700; letter-spacing: 0.02em;
}
.mode-btn {
  display: flex; align-items: center; gap: 6px;
  padding: 5px 13px; border-radius: 20px;
  border: 1.5px solid rgba(255,255,255,0.18);
  background: transparent; color: var(--text-dim);
  font-size: 12px; font-weight: 500; cursor: pointer;
  font-family: 'DM Sans', sans-serif; transition: all 0.25s;
}
.mode-btn.active {
  background: var(--gold-glow); border-color: var(--gold); color: var(--gold);
}
.mode-btn svg { width: 14px; height: 14px; }

/* Card */
.card-area {
  flex: 1; display: flex; flex-direction: column;
  padding: 6px 10px 0; overflow: hidden;
}
.card {
  flex: 1; display: flex; flex-direction: column;
  background: linear-gradient(150deg, rgba(38,32,56,0.97), rgba(22,18,36,0.99));
  border-radius: 22px;
  border: 1px solid rgba(212,175,55,0.1);
  padding: 16px 16px 14px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.04);
  overflow-y: auto; overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  transition: transform 0.08s ease;
}
.card::-webkit-scrollbar { display: none; }
.card-top {
  display: flex; justify-content: space-between; align-items: center;
  margin-bottom: 12px; flex-shrink: 0;
}
.counter { font-size: 11px; color: rgba(255,255,255,0.3); font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; }
.side-label { font-size: 9px; font-weight: 700; letter-spacing: 0.16em; color: var(--gold-dim); text-transform: uppercase; }
.card-top-right { display: flex; align-items: center; gap: 10px; }
.mark-btn {
  background: none; border: none; cursor: pointer; padding: 2px;
  color: rgba(255,255,255,0.25); transition: all 0.2s;
}
.mark-btn.active { color: var(--gold); }
.mark-btn svg { width: 22px; height: 22px; }

/* Sections */
.sect { display: flex; flex-direction: column; gap: 3px; margin-bottom: 11px; }
.tag {
  font-size: 9px; font-weight: 700; letter-spacing: 0.16em;
  color: var(--gold); text-transform: uppercase; opacity: 0.75; margin-bottom: 1px;
}
.pron-main {
  font-family: 'Playfair Display', serif;
  font-size: 21px; font-weight: 700; letter-spacing: 0.05em;
}
.ipa { font-size: 13px; color: rgba(255,255,255,0.38); font-family: monospace; }
.listen-btn {
  display: inline-flex; align-items: center; gap: 7px;
  padding: 5px 14px; border-radius: 20px;
  border: 1px solid rgba(212,175,55,0.3); background: rgba(212,175,55,0.08);
  color: var(--gold); cursor: pointer; font-family: 'DM Sans', sans-serif;
  font-size: 12.5px; font-weight: 500; margin-top: 5px; align-self: flex-start;
  transition: all 0.2s;
}
.listen-btn:active { background: rgba(212,175,55,0.2); }
.listen-btn svg { width: 15px; height: 15px; }
.pos-chip {
  display: inline-block; padding: 3px 12px; border-radius: 14px;
  background: rgba(212,175,55,0.1); border: 1px solid rgba(212,175,55,0.22);
  color: var(--gold); font-size: 13px; font-weight: 600; font-style: italic;
}
.def-text { font-size: 14px; line-height: 1.6; color: rgba(255,255,255,0.85); }
.origin-text { font-size: 13px; line-height: 1.55; color: var(--text-dim); font-style: italic; }
.ex-text {
  font-size: 13px; line-height: 1.6; color: rgba(255,255,255,0.65);
  border-left: 3px solid rgba(212,175,55,0.35); padding-left: 12px; font-style: italic;
}

/* Tap hint */
.tap-hint {
  text-align: center; padding: 12px 0 4px;
  font-size: 12px; color: rgba(255,255,255,0.2);
  letter-spacing: 0.04em; flex-shrink: 0;
}

/* Back */
.back-content { display: flex; flex-direction: column; align-items: center; gap: 20px; padding-top: 6px; flex: 1; }
.spelling-box {
  text-align: center; width: 100%; padding: 22px 12px 18px;
  background: linear-gradient(135deg, rgba(212,175,55,0.07), rgba(212,175,55,0.02));
  border-radius: 16px; border: 1px solid rgba(212,175,55,0.15);
}
.spelling-label {
  font-size: 10px; font-weight: 700; letter-spacing: 0.22em;
  color: rgba(212,175,55,0.6); text-transform: uppercase; margin-bottom: 10px;
}
.spelling-word {
  font-family: 'Playfair Display', serif; font-size: 36px; font-weight: 900;
  letter-spacing: 0.04em; line-height: 1.15;
  text-shadow: 0 2px 16px rgba(212,175,55,0.2); margin-bottom: 14px;
}
.letters-row { display: flex; justify-content: center; gap: 3px; flex-wrap: wrap; }
.letter-tile {
  display: inline-flex; align-items: center; justify-content: center;
  width: 27px; height: 34px; border-radius: 6px;
  background: rgba(212,175,55,0.08); border: 1px solid rgba(212,175,55,0.2);
  color: var(--gold); font-family: 'Playfair Display', serif;
  font-size: 17px; font-weight: 700;
  animation: letterPop 0.35s cubic-bezier(0.34,1.56,0.64,1) both;
}
.image-box {
  width: 100%; border-radius: 14px; overflow: hidden;
  border: 1px solid rgba(255,255,255,0.08); position: relative;
  animation: popIn 0.4s cubic-bezier(0.34,1.56,0.64,1) both;
  animation-delay: 0.15s;
}
.word-img { width: 100%; height: 190px; object-fit: cover; display: block; }
.img-caption {
  position: absolute; bottom: 0; left: 0; right: 0;
  padding: 20px 14px 8px;
  background: linear-gradient(transparent, rgba(0,0,0,0.7));
  font-size: 12px; font-weight: 600; color: rgba(255,255,255,0.7);
  letter-spacing: 0.06em; text-transform: capitalize;
}
.loading-box { display: flex; flex-direction: column; align-items: center; gap: 8px; padding: 20px 0; }
.spinner {
  width: 22px; height: 22px;
  border: 2.5px solid rgba(212,175,55,0.2);
  border-top-color: var(--gold); border-radius: 50%;
  animation: spin 0.8s linear infinite;
}
.loading-text { color: rgba(255,255,255,0.35); font-size: 12px; }

/* Bottom bar */
.bottom-bar {
  flex-shrink: 0;
  padding: 10px 16px 12px;
  display: flex; flex-direction: column; gap: 6px;
}
.nav-row {
  display: flex; align-items: center; justify-content: center; gap: 12px;
}
.nav-arrow {
  display: flex; align-items: center; justify-content: center;
  width: 36px; height: 36px; border-radius: 50%;
  border: 1.5px solid rgba(255,255,255,0.15);
  background: rgba(255,255,255,0.04);
  color: rgba(255,255,255,0.5); cursor: pointer;
  transition: all 0.2s; flex-shrink: 0;
}
.nav-arrow:active { background: rgba(212,175,55,0.15); border-color: var(--gold); color: var(--gold); transform: scale(0.92); }
.nav-arrow svg { width: 18px; height: 18px; }
.slider-area {
  flex: 1; height: 32px; position: relative;
  display: flex; align-items: center;
  touch-action: none; cursor: pointer;
}
.slider-track-bg {
  width: 100%; height: 3px; border-radius: 2px;
  background: rgba(255,255,255,0.08); position: relative; overflow: hidden;
}
.slider-fill {
  height: 100%; border-radius: 2px;
  background: linear-gradient(90deg, var(--gold), rgba(212,175,55,0.5));
  transition: width 0.15s ease;
}
.slider-dots {
  position: absolute; top: 0; left: 0; right: 0; bottom: 0;
  display: flex; align-items: center; justify-content: space-between;
  pointer-events: none; padding: 0 2px;
}
.slider-tick {
  width: 2px; height: 8px; border-radius: 1px;
  background: rgba(255,255,255,0.06); flex-shrink: 0;
}
.slider-tick.major { height: 12px; background: rgba(255,255,255,0.12); }
.slider-tick.active { background: var(--gold); height: 14px; width: 3px; border-radius: 1.5px; box-shadow: 0 0 6px rgba(212,175,55,0.4); }
.slider-thumb {
  position: absolute; top: 50%; transform: translate(-50%, -50%);
  width: 20px; height: 20px; border-radius: 50%;
  background: var(--gold);
  border: 2.5px solid #1a1528;
  box-shadow: 0 0 10px rgba(212,175,55,0.5), 0 2px 6px rgba(0,0,0,0.4);
  cursor: grab; transition: left 0.12s ease;
  z-index: 2;
}
.slider-thumb:active { cursor: grabbing; transform: translate(-50%, -50%) scale(1.15); }
.slider-thumb.dragging { transition: none; transform: translate(-50%, -50%) scale(1.15); }
.slider-counter {
  text-align: center; font-size: 11px; font-weight: 600;
  color: rgba(255,255,255,0.25); letter-spacing: 0.08em;
}

/* Animations */
@keyframes fadeUp { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
@keyframes popIn { 0% { transform: scale(0.92); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
@keyframes letterPop { 0% { transform: scale(0) rotate(-8deg); opacity: 0; } 60% { transform: scale(1.1) rotate(2deg); opacity: 1; } 100% { transform: scale(1) rotate(0); opacity: 1; } }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes slideOutL { from { transform: translateX(0); opacity: 1; } to { transform: translateX(-105%); opacity: 0; } }
@keyframes slideOutR { from { transform: translateX(0); opacity: 1; } to { transform: translateX(105%); opacity: 0; } }
.slide-out-l { animation: slideOutL 0.22s ease forwards; }
.slide-out-r { animation: slideOutR 0.22s ease forwards; }
.fade-in { animation: fadeUp 0.3s ease both; }
</style>
</head>
<body>

<div class="header">
  <div class="header-left">
    <span>üêù</span>
    <h1>Spelling Bee</h1>
  </div>
  <button class="mode-btn" id="modeBtn" onclick="toggleMarkedOnly()">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
    <span id="modeBtnText">All (6)</span>
  </button>
</div>

<div class="card-area" id="cardArea">
  <div class="card" id="card"></div>
</div>

<div class="bottom-bar">
  <div class="nav-row">
    <button class="nav-arrow" id="prevBtn" onclick="navigateTo('right')">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
    </button>
    <div class="slider-area" id="sliderArea">
      <div class="slider-track-bg">
        <div class="slider-fill" id="sliderFill"></div>
      </div>
      <div class="slider-dots" id="sliderDots"></div>
      <div class="slider-thumb" id="sliderThumb"></div>
    </div>
    <button class="nav-arrow" id="nextBtn" onclick="navigateTo('left')">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 6 15 12 9 18"/></svg>
    </button>
  </div>
  <div class="slider-counter" id="sliderCounter">1 / 208</div>
</div>

<script>
const WORDS = [
  { word:'paella', pronunciation:'pah-EY-uh', ipa:'/pa…™Àà…õl…ô/', pos:'noun', def:'A Spanish dish of rice, saffron, chicken, seafood, and vegetables, cooked and served in a large shallow pan.', lang:'Catalan, from paella (\'pan\'), from Old French paele, from Latin patella (\'small pan, dish\').', example:'The chef prepared a traditional paella over an open fire, filling the air with the aroma of saffron and seafood.', isNoun:true },
  { word:'pahoehoe', pronunciation:'pah-HOY-hoy', ipa:'/p…ôÀàho äiÀåho äi/', pos:'noun', def:'Basaltic lava forming smooth, undulating, or ropy masses, as distinguished from the rougher aa lava.', lang:'Hawaiian, from pƒÅhoehoe (\'smooth, unbroken lava\').', example:'The geologist pointed out the distinctive ropy surface of the pahoehoe lava flow on the volcanic slope.', isNoun:true },
  { word:'Palaihnihan', pronunciation:'PAL-eye-NEE-hun', ipa:'/Àåp√¶la…™ÀàniÀêh…ôn/', pos:'noun', def:'A small language family of Native American peoples in northeastern California, comprising the Achumawi and Atsugewi languages.', lang:'Native American, from the Achumawi and Atsugewi peoples of the Pit River region of California.', example:'Linguists have worked to document and preserve the Palaihnihan languages before the last native speakers pass on.', isNoun:true },
  { word:'palaver', pronunciation:'puh-LAV-ur', ipa:'/p…ôÀàl√¶v…ôr/', pos:'noun', def:'Prolonged and idle discussion; unnecessary fuss. Originally, a conference or parley between peoples of different cultures.', lang:'Portuguese, from palavra (\'word, speech\'), from Latin parabola (\'comparison, speech\'), from Greek parabolƒì.', example:'After hours of palaver about the seating arrangement, they finally agreed to a round-table format.', isNoun:true },
  { word:'palooka', pronunciation:'puh-LOO-kuh', ipa:'/p…ôÀàluÀêk…ô/', pos:'noun', def:'A stupid, clumsy, or uncouth person; especially an inexperienced or incompetent boxer.', lang:'English, of uncertain origin; popularized by the comic strip Joe Palooka (1930) by Ham Fisher.', example:'The seasoned fighter made quick work of the palooka, knocking him out in the second round.', isNoun:true },
  { word:'pampootie', pronunciation:'pam-POO-tee', ipa:'/p√¶mÀàpuÀêti/', pos:'noun', def:'A simple shoe made of untanned hide, traditionally worn on the Aran Islands off the west coast of Ireland.', lang:'Irish, from pamp√∫ta, possibly from English \'pump\' (a type of shoe).', example:'The fisherman wore sturdy pampooties laced up over his thick woolen socks as he headed to the currach.', isNoun:true },
  { word:'panacea', pronunciation:'PAN-uh-SEE-uh', ipa:'/Àåp√¶n…ôÀàsiÀê…ô/', pos:'noun', def:'A solution or remedy for all difficulties or diseases; a cure-all.', lang:'Latin, from Greek panakeia (\'universal remedy\'), from panakƒìs (\'all-healing\'), from pan (\'all\') + akos (\'remedy\').', example:'There is no panacea for poverty; it requires a multifaceted approach involving education, healthcare, and economic reform.', isNoun:true },
  { word:'Panathenaea', pronunciation:'PAN-ath-uh-NEE-uh', ipa:'/Àåp√¶n√¶Œ∏…ôÀàniÀê…ô/', pos:'noun', def:'The most important festival of ancient Athens, held annually in honor of the goddess Athena, with a grander celebration every four years.', lang:'Greek, from Panathenaia, from pan (\'all\') + Athƒìnaia (\'of Athena\').', example:'The grand procession of the Panathenaea wound through the streets of Athens up to the Parthenon on the Acropolis.', isNoun:true },
  { word:'Panchen Lama', pronunciation:'PAN-chen LAH-muh', ipa:'/Ààp√¶nt É…õn Ààl…ëÀêm…ô/', pos:'noun', def:'The second-highest ranking lama in Tibetan Buddhism after the Dalai Lama, traditionally based at the Tashilhunpo Monastery.', lang:'Tibetan, from panchen (short for pandita chenpo, \'great scholar\') + lama (\'teacher, spiritual leader\').', example:'The Panchen Lama has historically played a key role in the identification and recognition of each new Dalai Lama.', isNoun:true },
  { word:'panettone', pronunciation:'PAN-eh-TOH-nee', ipa:'/Àåp√¶n…™Ààto äni/', pos:'noun', def:'A large Italian bread-like cake, typically containing dried fruit and nuts, traditionally eaten at Christmas.', lang:'Italian, from panetto (\'small loaf\'), diminutive of pane (\'bread\'), from Latin panis (\'bread\'), + -one (augmentative suffix).', example:'Every Christmas, her grandmother shipped a towering panettone from Milan, fragrant with candied orange peel and raisins.', isNoun:true },
  { word:'panjandrum', pronunciation:'pan-JAN-drum', ipa:'/p√¶nÀàd í√¶ndr…ôm/', pos:'noun', def:'A powerful person, especially a pretentious or self-important official; a pompous dignitary.', lang:'English, coined by Samuel Foote in 1755 in a nonsense passage to test the memory of actor Charles Macklin.', example:'The local panjandrum insisted on being addressed by his full title at every public gathering.', isNoun:true },
  { word:'pannose', pronunciation:'PAN-ohs', ipa:'/Ààp√¶no äs/', pos:'adjective', def:'Having a texture or appearance resembling felt or woolen cloth; in botany, densely matted with woolly hairs.', lang:'Latin, from pannosus (\'ragged, tattered\'), from pannus (\'cloth, rag\').', example:'The botanist noted the pannose surface of the leaf, thickly covered in soft, matted fibers.', isNoun:false },
  { word:'pappardelle', pronunciation:'PAH-par-DEL-eh', ipa:'/Àåp…ëÀêp…ëÀêrÀàd…õl…õ/', pos:'noun', def:'Large, broad, flat pasta noodles, wider than fettuccine, often served with hearty meat sauces.', lang:'Italian, from pappare (\'to eat hungrily, to gobble up\'), a childish or informal word for eating.', example:'The wild boar rag√π was served over fresh pappardelle, the wide ribbons of pasta catching every bit of the rich sauce.', isNoun:true },
  { word:'parallax', pronunciation:'PAIR-uh-laks', ipa:'/Ààp√¶r…ôÀål√¶ks/', pos:'noun', def:'The apparent displacement or difference in the position of an object when viewed from two different points; used in astronomy to measure distances to stars.', lang:'Greek, from parallaxis (\'change, alternation\'), from parallassein (\'to alternate\'), from para (\'beside\') + allassein (\'to change\').', example:'Astronomers use stellar parallax to calculate the distance to nearby stars by observing their shift against background objects.', isNoun:true },
  { word:'pareidolia', pronunciation:'PAIR-eye-DOH-lee-uh', ipa:'/Àåp√¶r…™Ààdo äli…ô/', pos:'noun', def:'The tendency to perceive meaningful images, especially faces, in random or ambiguous visual patterns.', lang:'Greek, from para (\'beside, faulty\') + eid≈çlon (\'image, form\'), from eidos (\'form, shape\').', example:'The phenomenon of pareidolia explains why people often see faces in clouds, toast, or rock formations.', isNoun:true },
  { word:'Parmentier', pronunciation:'par-men-TYAY', ipa:'/Àåp…ëÀêrm…ínÀàtje…™/', pos:'adjective', def:'Describing a dish made with or accompanied by potatoes, named after Antoine-Augustin Parmentier who promoted potato cultivation in France.', lang:'French, named after Antoine-Augustin Parmentier (1737‚Äì1813), a French pharmacist and nutritionist.', example:'The menu featured a classic hachis Parmentier, a French shepherd\'s pie layered with seasoned meat and creamy mashed potatoes.', isNoun:false },
  { word:'parquet', pronunciation:'par-KAY', ipa:'/p…ëÀêrÀàke…™/', pos:'noun', def:'A floor covering made of wooden blocks arranged in a geometric pattern; also, the main floor of a theater.', lang:'French, from parquet (\'small enclosed space, floor\'), diminutive of parc (\'park, enclosure\'), from Frankish *parruk.', example:'The ballroom\'s elegant parquet floor gleamed under the chandeliers, its intricate herringbone pattern perfectly maintained.', isNoun:true },
  { word:'parterre', pronunciation:'par-TAIR', ipa:'/p…ëÀêrÀàt…õr/', pos:'noun', def:'A level space in a garden occupied by an ornamental arrangement of flower beds; also, the ground floor of a theater.', lang:'French, from par terre (\'on the ground\'), from Latin per (\'through\') + terra (\'earth, ground\').', example:'The formal parterre of the ch√¢teau garden featured meticulously trimmed boxwood hedges in elaborate scrollwork patterns.', isNoun:true },
  { word:'parti pris', pronunciation:'PAR-tee PREE', ipa:'/Àåp…ëÀêrti ÀàpriÀê/', pos:'noun', def:'A preconceived opinion; a prejudice or bias. Also, a predetermined plan or approach.', lang:'French, literally \'side taken\', from parti (\'part, side\') + pris (past participle of prendre, \'to take\').', example:'The critic\'s review was dismissed as parti pris, reflecting a well-known personal grudge against the director.', isNoun:true },
  { word:'pas seul', pronunciation:'PAH SUHL', ipa:'/Àåp…ëÀê Ààs…úÀêl/', pos:'noun', def:'A dance or section of a dance performed by one person alone; a solo in ballet.', lang:'French, literally \'step alone\', from pas (\'step\') + seul (\'alone\'), from Latin solus.', example:'The ballerina\'s pas seul in the second act was breathtaking, her effortless pirouettes earning a standing ovation.', isNoun:true },
  { word:'pasilla', pronunciation:'pah-SEE-yuh', ipa:'/p…ëÀêÀàsiÀêj…ô/', pos:'noun', def:'A mild to medium-hot dried chili pepper, dark brown in color, commonly used in Mexican mole sauces.', lang:'Spanish, from pasilla (\'little raisin\'), diminutive of pasa (\'raisin\'), because of its wrinkled, dark appearance when dried.', example:'The cook toasted and rehydrated the pasilla chiles before blending them into a smoky, complex mole sauce.', isNoun:true },
  { word:'pastitsio', pronunciation:'pah-STEE-tsee-oh', ipa:'/p…ëÀêÀàstiÀêtsio ä/', pos:'noun', def:'A Greek baked pasta dish with layers of tubular pasta, spiced meat sauce, and a creamy b√©chamel topping.', lang:'Greek, from past√≠tsio, from Italian pasticcio (\'pie, hodgepodge\'), from pasta (\'paste, dough\').', example:'The taverna\'s pastitsio arrived golden and bubbling, with a thick layer of creamy b√©chamel over the pasta and meat.', isNoun:true },
  { word:'patois', pronunciation:'PAT-wah', ipa:'/Ààp√¶tw…ëÀê/', pos:'noun', def:'A regional dialect of a language, especially one with low status in relation to the standard language; the jargon of a particular group.', lang:'French, from Old French patois (\'local speech\'), possibly from patoier (\'to handle clumsily\'), from patte (\'paw\').', example:'The islanders spoke a distinctive patois that blended French, English, and West African linguistic elements.', isNoun:true },
  { word:'Patripassianism', pronunciation:'PAT-rih-PASS-ee-un-iz-um', ipa:'/Àåp√¶tr…™Ààp√¶si…ôÀån…™z…ôm/', pos:'noun', def:'An early Christian heresy holding that God the Father suffered on the cross along with or as Christ.', lang:'Latin, from patri- (from pater, \'father\') + passio (\'suffering\') + -anism.', example:'The early church councils condemned Patripassianism as a heretical doctrine that blurred the distinctions within the Trinity.', isNoun:true },
  { word:'pejorate', pronunciation:'PEJ-uh-rayt', ipa:'/Ààp…õd í…ôÀåre…™t/', pos:'verb', def:'To make or become worse; to depreciate or deteriorate. In linguistics, for a word\'s meaning to become more negative over time.', lang:'Latin, from pejoratus, past participle of pejorare (\'to make worse\'), from pejor (\'worse\').', example:'Over centuries, the meaning of the word \'villain\' pejorated from simply \'farmworker\' to \'wicked person.\'', isNoun:false },
  { word:'pekoe', pronunciation:'PEE-koh', ipa:'/ÀàpiÀêko ä/', pos:'noun', def:'A high-quality black tea made from young leaves and leaf buds.', lang:'Chinese (Amoy dialect), from pek-ho (\'white down\'), referring to the downy tips on young tea leaves.', example:'She preferred a fine orange pekoe for her afternoon tea, enjoying its bright, smooth flavor.', isNoun:true },
  { word:'perciatelli', pronunciation:'PER-chah-TEL-ee', ipa:'/Àåp…õrt É…ëÀêÀàt…õli/', pos:'noun', def:'A thick, tubular pasta similar to bucatini, with a hollow center, originating from southern Italy.', lang:'Italian, from perciato (\'pierced\'), from a Neapolitan dialect form, from Latin pertusus (\'pierced through\').', example:'The perciatelli was tossed in a spicy amatriciana sauce, each hollow strand perfectly capturing the tomato and guanciale.', isNoun:true },
  { word:'perianth', pronunciation:'PAIR-ee-anth', ipa:'/Ààp…õriÀå√¶nŒ∏/', pos:'noun', def:'The outer part of a flower, consisting of the calyx (sepals) and corolla (petals), which surround the reproductive organs.', lang:'French, from p√©rianthe, from Greek peri (\'around\') + anthos (\'flower\').', example:'The botanist carefully dissected the perianth to examine the arrangement of sepals and petals under the microscope.', isNoun:true },
  { word:'perruche', pronunciation:'peh-ROOSH', ipa:'/p…õÀàruÀê É/', pos:'noun', def:'A small parrot or parakeet; also used in French to refer to a chattering or gossipy person.', lang:'French, from perruche (\'parakeet\'), from Italian parrocchetto, possibly from a diminutive of parro (\'parrot\').', example:'The brightly colored perruche flitted between branches, filling the aviary with cheerful chirps and whistles.', isNoun:true },
  { word:'petechia', pronunciation:'puh-TEE-kee-uh', ipa:'/p…™ÀàtiÀêki…ô/', pos:'noun', def:'A small, round, flat spot caused by bleeding under the skin, appearing as a pinpoint red or purple dot.', lang:'Italian, from petecchia (\'spot on the skin\'), from Latin petigo (\'scab, eruption\'), related to impetigo.', example:'The physician noticed several petechiae on the child\'s arms and ordered blood tests to check for clotting disorders.', isNoun:true },
  { word:'Philistine', pronunciation:'FIL-uh-steen', ipa:'/Ààf…™l…™ÀåstiÀên/', pos:'noun', def:'A person who is hostile or indifferent to culture and the arts; historically, a member of a people who inhabited ancient Philistia.', lang:'Hebrew, from Pƒïli≈°tƒ´ (\'Philistine\'), via Latin Philistinus and Greek Philistinos. The figurative sense arose in German university slang (Philister).', example:'He called anyone who preferred action movies to art-house cinema a Philistine, though his friends found this snobbish.', isNoun:true },
  { word:'philopatry', pronunciation:'fih-LOP-uh-tree', ipa:'/f…™Ààl…íp…ôtri/', pos:'noun', def:'The tendency of an organism to stay in or return to its home area or birthplace, especially for breeding.', lang:'Greek, from philos (\'loving\') + patra (\'fatherland, homeland\'), from patƒìr (\'father\').', example:'Many species of sea turtles display remarkable philopatry, returning to the exact beach where they hatched to lay their own eggs.', isNoun:true },
  { word:'phloem', pronunciation:'FLOH-em', ipa:'/Ààflo ä…õm/', pos:'noun', def:'The vascular tissue in plants that conducts sugars and other metabolic products downward from the leaves to the rest of the plant.', lang:'German, from Greek phloios (\'bark\'), because phloem is found in the inner bark of trees.', example:'The phloem transports the sugars produced during photosynthesis from the leaves to the roots and growing tissues.', isNoun:true },
  { word:'phlox', pronunciation:'FLOKS', ipa:'/fl…íks/', pos:'noun', def:'A North American plant of the family Polemoniaceae, cultivated for its clusters of colorful, fragrant flowers.', lang:'Greek, from phlox (\'flame\'), referring to the bright, vivid colors of the flowers.', example:'The garden border was ablaze with pink and purple phlox, their sweet fragrance attracting butterflies all summer.', isNoun:true },
  { word:'Phobos', pronunciation:'FOH-bos', ipa:'/Ààfo äb…ís/', pos:'noun', def:'The larger and innermost of the two moons of Mars; in Greek mythology, the personification of fear and a companion of Ares.', lang:'Greek, from phobos (\'fear, panic\'), from phebomai (\'to flee in terror\').', example:'Phobos orbits so close to Mars that it completes a full revolution around the planet in less than eight hours.', isNoun:true },
  { word:'photovoltaic', pronunciation:'FOH-toh-vol-TAY-ik', ipa:'/Àåfo äto äv…ílÀàte…™…™k/', pos:'adjective', def:'Relating to the production of electric current at the junction of two substances exposed to light; pertaining to solar cells.', lang:'Greek/Italian, from Greek ph≈çs (genitive ph≈çtos, \'light\') + voltaic (from Alessandro Volta, Italian physicist).', example:'The rooftop photovoltaic panels generated enough electricity to power the entire household during sunny months.', isNoun:false },
  { word:'piatti', pronunciation:'pee-AH-tee', ipa:'/piÀà…ëÀêti/', pos:'noun', def:'Cymbals, especially as used in an orchestra; the Italian term for plates or cymbals.', lang:'Italian, plural of piatto (\'plate, flat\'), from Latin plattus (\'flat\'), from Greek platys (\'broad, flat\').', example:'The percussionist crashed the piatti together at the climax of the symphony, sending a shimmering wave of sound through the hall.', isNoun:true },
  { word:'piccata', pronunciation:'pih-KAH-tuh', ipa:'/p…™Ààk…ëÀêt…ô/', pos:'noun', def:'An Italian dish of thinly sliced meat, typically veal or chicken, saut√©ed and served in a sauce of lemon, butter, and capers.', lang:'Italian, from piccata (\'larded\'), feminine past participle of piccare (\'to lard, to prick, to sting\').', example:'The chicken piccata arrived perfectly golden, bathed in a bright, tangy lemon-caper butter sauce.', isNoun:true },
  { word:'pierrot', pronunciation:'pee-eh-ROH', ipa:'/Àåp…™…ôÀàro ä/', pos:'noun', def:'A stock character in French pantomime, depicted as a sad clown with a white face, loose white clothing, and a pointed hat.', lang:'French, diminutive of Pierre (\'Peter\'), used as a character name in commedia dell\'arte traditions.', example:'The mime performed as a wistful pierrot, his white-painted face expressing silent longing under the streetlamp.', isNoun:true },
  { word:'piloncillo', pronunciation:'PEE-lon-SEE-yoh', ipa:'/ÀåpiÀêl…ínÀàsiÀêjo ä/', pos:'noun', def:'An unrefined whole cane sugar common in Mexican cuisine, formed into small cone-shaped blocks with a rich, caramel-like flavor.', lang:'Spanish, diminutive of pil√≥n (\'large sugar loaf, cone\'), from pila (\'heap, pillar\').', example:'She grated piloncillo into the simmering pot of caf√© de olla, sweetening the cinnamon-spiced coffee naturally.', isNoun:true },
  { word:'pinniped', pronunciation:'PIN-uh-ped', ipa:'/Ààp…™n…™Àåp…õd/', pos:'noun', def:'A marine mammal of the order Pinnipedia, which includes seals, sea lions, and walruses, having fin-like flippers.', lang:'Latin, from pinna (\'feather, fin, wing\') + pes (genitive pedis, \'foot\').', example:'The marine biologist studied pinniped behavior, observing how sea lions communicated and established territories on the rocky shore.', isNoun:true },
  { word:'pistou', pronunciation:'pee-STOO', ipa:'/piÀêÀàstuÀê/', pos:'noun', def:'A Proven√ßal sauce of crushed basil, garlic, and olive oil, similar to Italian pesto but typically without pine nuts; also, a vegetable soup served with this sauce.', lang:'Proven√ßal French, from pistou (\'pounded\'), from Italian pestare (\'to pound, crush\'), from Latin pistare.', example:'The soupe au pistou was hearty and fragrant, the basil and garlic sauce swirled into a rich vegetable broth.', isNoun:true },
  { word:'pitanga', pronunciation:'pih-TANG-guh', ipa:'/p…™Ààt√¶≈ã…°…ô/', pos:'noun', def:'A tropical fruit tree native to South America, also called the Surinam cherry, bearing small ribbed red fruits with a tart flavor.', lang:'Tupi (Brazilian indigenous language), from pitanga (\'red\'), referring to the fruit\'s color.', example:'The children picked ripe pitanga berries from the hedge, savoring their sweet-tart, slightly resinous flavor.', isNoun:true },
  { word:'Plantagenet', pronunciation:'plan-TAJ-uh-nit', ipa:'/pl√¶nÀàt√¶d í…ôn…™t/', pos:'noun', def:'A member of the English royal dynasty that held the throne from 1154 to 1485, including the Houses of Lancaster and York.', lang:'Old French, from plante gen√™t (\'sprig of broom plant\'), a badge of the Anjou counts, from Latin planta (\'plant\') + genista (\'broom\').', example:'The Plantagenet dynasty ruled England for over three centuries, producing kings such as Richard the Lionheart and Henry V.', isNoun:true },
  { word:'pneumatocyst', pronunciation:'NOO-mat-uh-sist', ipa:'/ÀànjuÀêm√¶t…ôÀås…™st/', pos:'noun', def:'A gas-filled float or bladder found in certain marine organisms, such as kelp or the Portuguese man-of-war, providing buoyancy.', lang:'Greek, from pneuma (genitive pneumatos, \'air, breath\') + kystis (\'bladder\').', example:'The pneumatocyst of the giant kelp keeps the fronds floating near the surface where they can absorb sunlight for photosynthesis.', isNoun:true },
  { word:'pochoir', pronunciation:'poh-SHWAR', ipa:'/po äÀà Éw…ëÀêr/', pos:'noun', def:'A refined stenciling process used to create prints, in which color is applied through cut-out templates by hand, producing richly detailed images.', lang:'French, from pochoir (\'stencil\'), from pocher (\'to stencil, to sketch roughly\').', example:'The art deco fashion plates were produced using the pochoir technique, each color carefully applied by hand through metal stencils.', isNoun:true },
  { word:'podagra', pronunciation:'poh-DAG-ruh', ipa:'/po äÀàd√¶…°r…ô/', pos:'noun', def:'Gout of the big toe; a painful form of arthritis affecting the joint at the base of the great toe.', lang:'Greek, from pous (genitive podos, \'foot\') + agra (\'seizure, trap\').', example:'The physician diagnosed his swollen, throbbing big toe as podagra, a classic presentation of acute gout.', isNoun:true },
  { word:'podotheca', pronunciation:'POD-uh-THEE-kuh', ipa:'/Àåp…íd…ôÀàŒ∏iÀêk…ô/', pos:'noun', def:'The scaly covering on the foot of a bird or reptile.', lang:'Greek, from pous (genitive podos, \'foot\') + thƒìkƒì (\'case, sheath\').', example:'The ornithologist studied the podotheca of various raptor species, noting differences in scale patterns between hawks and eagles.', isNoun:true },
  { word:'point d\'appui', pronunciation:'PWAN da-PWEE', ipa:'/Àåpw√¶ÃÉ d√¶ÀàpwiÀê/', pos:'noun', def:'A support or prop; a strategic point upon which troops are concentrated or from which an operation is launched; a fulcrum.', lang:'French, literally \'point of support\', from point (\'point\') + de (\'of\') + appui (\'support\').', example:'The hilltop fortress served as the army\'s point d\'appui, from which they could control access to the entire valley.', isNoun:true },
  { word:'polyandry', pronunciation:'POL-ee-AN-dree', ipa:'/Àåp…íliÀà√¶ndri/', pos:'noun', def:'The practice of having more than one husband at the same time; in botany, the condition of a flower having numerous stamens.', lang:'Greek, from polys (\'many\') + anƒìr (genitive andros, \'man, husband\').', example:'Fraternal polyandry, in which a woman marries two or more brothers, has been practiced in parts of Tibet and Nepal.', isNoun:true },
  { word:'portugais', pronunciation:'por-too-GAY', ipa:'/Àåp…îÀêrt äÀà…°e…™/', pos:'noun', def:'A blood orange variety with deep red flesh; the French word for Portuguese.', lang:'French, from portugais (\'Portuguese\'), referring to the Portuguese origin of certain orange varieties brought to Europe.', example:'The marmalade was made from bittersweet portugais oranges, their crimson flesh giving it a stunning ruby color.', isNoun:true },
  { word:'porwigle', pronunciation:'POR-wih-gul', ipa:'/Ààp…îÀêrw…™…°…ôl/', pos:'noun', def:'An archaic or dialectal word for a tadpole or polliwog.', lang:'Middle English, from pol (\'head\') + wiglen (\'to wiggle\'); variant of polliwog.', example:'The children peered into the pond to watch the tiny porwigles darting between the reeds.', isNoun:true },
  { word:'pot-au-feu', pronunciation:'POT-oh-FUH', ipa:'/Àåp…íto äÀàf…úÀê/', pos:'noun', def:'A traditional French boiled dinner of meat (typically beef) and vegetables cooked slowly in broth, served as both soup and main course.', lang:'French, literally \'pot on the fire\', from pot (\'pot\') + au (\'on the\') + feu (\'fire\').', example:'Grandmother\'s pot-au-feu simmered all day, filling the house with the comforting aroma of beef, leeks, and root vegetables.', isNoun:true },
  { word:'pothos', pronunciation:'POH-thos', ipa:'/Ààpo äŒ∏…ís/', pos:'noun', def:'A tropical climbing plant of the arum family, popular as a houseplant for its trailing, heart-shaped leaves; in Greek mythology, the personification of longing.', lang:'Greek, from pothos (\'longing, desire\'). The plant name from modern Latin, from Greek pothos.', example:'The trailing pothos hung from the bookshelf, its variegated green and gold leaves cascading down like a living curtain.', isNoun:true },
  { word:'potpourri', pronunciation:'POH-puh-REE', ipa:'/Àåpo äp äÀàriÀê/', pos:'noun', def:'A mixture of dried petals and spices placed in a bowl to perfume a room; a miscellaneous collection or medley.', lang:'French, literally \'rotten pot\', from pot (\'pot\') + pourri (\'rotten\'), originally a mixed stew; calque of Spanish olla podrida.', example:'A bowl of fragrant potpourri on the entryway table filled the room with the scent of lavender and rose petals.', isNoun:true },
  { word:'pou sto', pronunciation:'POO STOH', ipa:'/ÀåpuÀê Ààsto ä/', pos:'noun', def:'A place to stand; a basis for operation or argument. From Archimedes\' famous statement about moving the earth with a lever.', lang:'Greek, from pou st≈ç (\'where I may stand\'), attributed to Archimedes.', example:'The lawyer searched for a pou sto from which to build her case, finally finding a precedent in an obscure 19th-century ruling.', isNoun:true },
  { word:'poudre B', pronunciation:'POO-druh BAY', ipa:'/ÀàpuÀêdr…ô Ààbe…™/', pos:'noun', def:'A smokeless gunpowder developed by French chemist Paul Vieille in 1884, the first practical nitrocellulose-based propellant.', lang:'French, from poudre (\'powder\') + B (designation letter, possibly for blanche, \'white\').', example:'The invention of poudre B revolutionized military firearms by replacing smoky black powder with a cleaner, more powerful propellant.', isNoun:true },
  { word:'prajna', pronunciation:'PRAHZH-nyah', ipa:'/Ààpr…ëÀêd ínj…ëÀê/', pos:'noun', def:'In Buddhism, transcendental wisdom or insight into the true nature of reality; one of the six perfections (paramitas).', lang:'Sanskrit, from pra (\'before, forward\') + j√±ƒÅ (\'to know\'); cognate with Greek gn≈çsis.', example:'The Buddhist monk taught that prajna, or transcendental wisdom, arises not from intellectual study alone but from deep meditative insight.', isNoun:true },
  { word:'pralltriller', pronunciation:'PRAHL-TRIL-ur', ipa:'/Ààpr…ëÀêlÀåtr…™l…ôr/', pos:'noun', def:'A musical ornament consisting of a rapid alternation between a note and the note immediately above it; an inverted mordent.', lang:'German, from prall (\'bouncing, rebounding\') + Triller (\'trill\').', example:'The harpsichordist executed the pralltriller with crisp precision, adding sparkle to the baroque melodic line.', isNoun:true },
  { word:'pratique', pronunciation:'pra-TEEK', ipa:'/pr√¶ÀàtiÀêk/', pos:'noun', def:'Permission granted to a ship to use a port after satisfying quarantine requirements or being certified free of contagious disease.', lang:'French, from pratique (\'practice, free intercourse\'), from Latin practicus, from Greek praktikos (\'practical\').', example:'After the health inspector cleared the vessel, the captain was granted pratique and allowed to dock and disembark passengers.', isNoun:true },
  { word:'presidio', pronunciation:'prih-SID-ee-oh', ipa:'/pr…™Ààs…™dio ä/', pos:'noun', def:'A fortified military settlement or garrison, especially in areas formerly under Spanish colonial rule.', lang:'Spanish, from presidio (\'garrison, fortified place\'), from Latin praesidium (\'protection, garrison\'), from praesidere (\'to guard\').', example:'The old presidio overlooking the bay was one of the earliest Spanish military outposts established in California.', isNoun:true },
  { word:'pr√™t-√†-porter', pronunciation:'PRET-ah-por-TAY', ipa:'/Àåpr…õt…ëÀêp…îÀêrÀàte…™/', pos:'noun', def:'Ready-to-wear clothing, as opposed to haute couture or custom-made garments; factory-made designer fashion.', lang:'French, literally \'ready to wear\', from pr√™t (\'ready\') + √† (\'to\') + porter (\'to wear, carry\').', example:'The fashion house launched a more affordable pr√™t-√†-porter line alongside its exclusive haute couture collection.', isNoun:true },
  { word:'prion', pronunciation:'PREE-on', ipa:'/ÀàpriÀê…ín/', pos:'noun', def:'An abnormal form of a normally harmless protein that can cause fatal degenerative diseases of the nervous system, such as mad cow disease.', lang:'English, coined from proteinaceous infectious particle, rearranged to form \'prion\' by Stanley Prusiner in 1982.', example:'Prion diseases are particularly frightening because the infectious agent is not a virus or bacterium but a misfolded protein.', isNoun:true },
  { word:'prodissoconch', pronunciation:'proh-DIS-uh-konk', ipa:'/pro äÀàd…™s…ôÀåk…í≈ãk/', pos:'noun', def:'The earliest-formed shell of a bivalve mollusk larva, retained at the beak of the adult shell.', lang:'Greek, from pro (\'before\') + dissos (\'double\') + konchƒì (\'shell\').', example:'The malacologist examined the prodissoconch under a microscope to determine the age and species of the juvenile clam.', isNoun:true },
  { word:'Promethean', pronunciation:'proh-MEE-thee-un', ipa:'/pr…ôÀàmiÀêŒ∏i…ôn/', pos:'adjective', def:'Daringly original or creative; relating to Prometheus, the Titan in Greek mythology who stole fire from the gods to give to humanity.', lang:'Greek, from Promƒìtheus (\'forethought\'), from pro (\'before\') + manthano (\'to learn\').', example:'The scientist\'s Promethean ambition to harness nuclear fusion drew both admiration and warnings from the scientific community.', isNoun:false },
  { word:'promyshlennik', pronunciation:'proh-MISH-luh-nik', ipa:'/pr…íÀàm…™ Él…ôn…™k/', pos:'noun', def:'A Russian fur trader or hunter, especially one active in Siberia and Alaska during the 18th and 19th centuries.', lang:'Russian, from promyshlennik (\'industrialist, trader\'), from promysel (\'trade, industry, craft\').', example:'The promyshlenniki ventured deep into the Alaskan wilderness in pursuit of sea otter pelts, establishing trading posts along the coast.', isNoun:true },
  { word:'pruritus', pronunciation:'proo-RYE-tus', ipa:'/pr äÀàra…™t…ôs/', pos:'noun', def:'Severe itching of the skin, as a symptom of various ailments; an intense itching sensation.', lang:'Latin, from pruritus (\'itching\'), from prurire (\'to itch, to long for\').', example:'The patient complained of persistent pruritus that worsened at night, making it difficult to sleep.', isNoun:true },
  { word:'psalmody', pronunciation:'SAH-muh-dee', ipa:'/Ààs…ëÀêm…ôdi/', pos:'noun', def:'The singing or chanting of psalms; the art or practice of singing sacred songs; a collection of psalms.', lang:'Greek, from psalm≈çidia (\'singing of psalms\'), from psalmos (\'psalm, song sung to the harp\') + ≈çidƒì (\'song\').', example:'The monastery echoed with the monks\' psalmody at vespers, their voices rising and falling in ancient Gregorian chant.', isNoun:true },
  { word:'pschent', pronunciation:'SKENT', ipa:'/sk…õnt/', pos:'noun', def:'The double crown of ancient Egypt, combining the white crown of Upper Egypt and the red crown of Lower Egypt, symbolizing the pharaoh\'s rule over a unified kingdom.', lang:'Greek, from pschent, borrowed from Egyptian sekhemti (\'the two powerful ones\').', example:'The pharaoh wore the pschent during the coronation ceremony, symbolizing dominion over both Upper and Lower Egypt.', isNoun:true },
  { word:'psoriasis', pronunciation:'suh-RYE-uh-sis', ipa:'/s…îÀêÀàra…™…ôs…™s/', pos:'noun', def:'A chronic skin condition characterized by patches of red, inflamed skin covered with silvery scales, caused by rapid overproduction of skin cells.', lang:'Greek, from ps≈çriasis (\'itching condition\'), from ps≈çra (\'itch, mange\').', example:'The dermatologist prescribed a topical treatment to manage the patient\'s psoriasis, which had flared up during the winter months.', isNoun:true },
  { word:'ptyxis', pronunciation:'TIK-sis', ipa:'/Ààt…™ks…™s/', pos:'noun', def:'The way in which a leaf or other plant part is folded in the bud before it opens; the folding arrangement of an individual leaf in bud.', lang:'Greek, from ptyxis (\'folding\'), from ptyssein (\'to fold\').', example:'The ptyxis of the fern\'s young fronds was tightly coiled in a spiral, gradually unfurling as the leaf matured.', isNoun:true },
  { word:'pudibund', pronunciation:'PYOO-dih-bund', ipa:'/ÀàpjuÀêd…™Àåb ånd/', pos:'adjective', def:'Easily embarrassed; prudish; showing or expressing shame or modesty.', lang:'Latin, from pudibundus (\'bashful, shamefaced\'), from pudere (\'to make or be ashamed\').', example:'The pudibund young man blushed deeply whenever anyone mentioned his surprise birthday performance at the talent show.', isNoun:false },
  { word:'pulvillus', pronunciation:'pul-VIL-us', ipa:'/p ålÀàv…™l…ôs/', pos:'noun', def:'A soft, pad-like structure between the claws on the foot of an insect, helping it to grip smooth surfaces.', lang:'Latin, diminutive of pulvinus (\'cushion\').', example:'The fly\'s pulvilli allow it to walk upside down on glass, each tiny pad secreting a thin film of adhesive liquid.', isNoun:true },
  { word:'pylorus', pronunciation:'pye-LOR-us', ipa:'/pa…™Ààl…îÀêr…ôs/', pos:'noun', def:'The opening from the stomach into the duodenum, controlled by a ring of muscle (the pyloric sphincter).', lang:'Greek, from pyl≈çros (\'gatekeeper\'), from pylƒì (\'gate\') + ouros (\'watcher, guardian\').', example:'The surgeon examined the pylorus for signs of obstruction that might be preventing food from passing into the small intestine.', isNoun:true },
  { word:'Pythagorean', pronunciation:'pih-THAG-uh-REE-un', ipa:'/p…™ÀåŒ∏√¶…°…ôÀàriÀê…ôn/', pos:'adjective', def:'Of or relating to the Greek philosopher and mathematician Pythagoras or his teachings, including the famous theorem about right triangles.', lang:'Greek, from Pythagoras, the philosopher of Samos (c. 570‚Äì495 BC), + -ean.', example:'Students learn the Pythagorean theorem early in geometry: in a right triangle, the square of the hypotenuse equals the sum of the squares of the other two sides.', isNoun:false },
  { word:'Pyxis', pronunciation:'PIK-sis', ipa:'/Ààp…™ks…™s/', pos:'noun', def:'A small, faint constellation in the southern sky, representing a mariner\'s compass; also, a small cylindrical container or box.', lang:'Latin, from Greek pyxis (\'box, chest\'), from pyxos (\'boxwood\').', example:'The astronomer pointed out the constellation Pyxis near the bright band of the Milky Way in the southern hemisphere sky.', isNoun:true }
];

let currentIndex = 0, flipped = false, markedWords = new Set(), markedOnly = false;
let imageCache = {}, imageLoading = {};
let touchStartX = 0, swipeX = 0;

function aw() { return markedOnly ? WORDS.filter((_,i) => markedWords.has(i)) : WORDS; }
function si() { const a=aw(); if(markedOnly){const i=a.findIndex(w=>w.word===WORDS[currentIndex]?.word);return i>=0?i:0;} return currentIndex; }
function gi() { const a=aw(),s=si(); return WORDS.findIndex(w=>w.word===a[s]?.word); }

function speak(t) { speechSynthesis.cancel(); const u=new SpeechSynthesisUtterance(t); u.rate=0.85;u.pitch=1;u.lang="en-US"; speechSynthesis.speak(u); }

async function fetchImage(word) {
  if(imageCache[word]||imageLoading[word]) return;
  imageLoading[word]=true;
  // Update just the image placeholder if it exists
  const imgPlaceholder = document.getElementById('img-'+word);
  if(imgPlaceholder) imgPlaceholder.innerHTML=`<div class="loading-box"><div class="spinner"></div><span class="loading-text">Finding image‚Ä¶</span></div>`;
  try {
    const r=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:1000,messages:[{role:"user",content:'Search online and find a direct image URL for "'+word+'". Return ONLY the raw URL ending in .jpg/.jpeg/.png/.svg/.webp. No markdown, no explanation.'}],tools:[{type:"web_search_20250305",name:"web_search"}]})});
    const d=await r.json(); const t=d.content.map(b=>b.type==="text"?b.text:"").filter(Boolean).join("\n").trim();
    const m=t.match(/https?:\/\/[^\s"'<>\)]+\.(jpg|jpeg|png|svg|webp)([^\s"'<>\)]*)*/i);
    imageCache[word]=m?m[0]:null;
  } catch(e){imageCache[word]=null;}
  imageLoading[word]=false;
  // Update just the image placeholder if still on same word
  const imgEl = document.getElementById('img-'+word);
  if(imgEl && imageCache[word]) {
    imgEl.innerHTML=`<div class="image-box"><img class="word-img" src="${imageCache[word]}" alt="${word}" onerror="this.parentElement.style.display='none'"><div class="img-caption">${word}</div></div>`;
  } else if(imgEl) {
    imgEl.innerHTML='';
  }
}

const starSvg=f=>`<svg viewBox="0 0 24 24" fill="${f?'currentColor':'none'}" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>`;
const speakerSvg=`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>`;

function renderFront(w) {
  return `
    <div class="sect fade-in"><div class="tag">PRONUNCIATION</div><div class="pron-main">${w.pronunciation}</div><div class="ipa">${w.ipa}</div>
      <button class="listen-btn" onclick="event.stopPropagation();speak('${w.word}')">${speakerSvg}<span>Listen</span></button></div>
    <div class="sect fade-in" style="animation-delay:.06s"><div class="tag">PART OF SPEECH</div><span class="pos-chip">${w.pos}</span></div>
    <div class="sect fade-in" style="animation-delay:.12s"><div class="tag">DEFINITION</div><div class="def-text">${w.def}</div></div>
    <div class="sect fade-in" style="animation-delay:.18s"><div class="tag">LANGUAGE OF ORIGIN</div><div class="origin-text">${w.lang}</div></div>
    <div class="sect fade-in" style="animation-delay:.24s"><div class="tag">EXAMPLE</div><div class="ex-text">"${w.example.replace(new RegExp(w.word,'gi'),'________')}"</div></div>
    <div class="tap-hint fade-in" style="animation-delay:.3s">Tap card to reveal spelling</div>`;
}

function renderBack(w) {
  const letters=w.word.split("").map((c,i)=>`<span class="letter-tile" style="animation-delay:${i*0.04+0.12}s">${c}</span>`).join("");
  let img="";
  if(w.isNoun){
    let imgContent = "";
    if(imageLoading[w.word]) imgContent=`<div class="loading-box"><div class="spinner"></div><span class="loading-text">Finding image‚Ä¶</span></div>`;
    else if(imageCache[w.word]) imgContent=`<div class="image-box"><img class="word-img" src="${imageCache[w.word]}" alt="${w.word}" onerror="this.parentElement.style.display='none'"><div class="img-caption">${w.word}</div></div>`;
    img=`<div id="img-${w.word}">${imgContent}</div>`;
  }
  return `<div class="back-content">
    <div class="spelling-box" style="animation:popIn .4s cubic-bezier(.34,1.56,.64,1) both">
      <div class="spelling-label">THE WORD IS</div><h2 class="spelling-word">${w.word}</h2>
      <div class="letters-row">${letters}</div>
      <button class="listen-btn" style="margin:14px auto 0" onclick="event.stopPropagation();speak('${w.word}')">${speakerSvg}<span>Hear Again</span></button>
    </div>${img}
    <div class="tap-hint">Tap card to go back to clues</div></div>`;
}

function render() {
  const a=aw();
  if(!a.length){ document.getElementById("card").innerHTML=`<div style="flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px"><p style="color:rgba(255,255,255,0.5);font-size:16px">No marked words yet.</p><button class="flip-btn" style="width:auto;padding:10px 24px" onclick="markedOnly=false;render()">‚Üê Show All</button></div>`; return; }
  const s=si(), g=gi(), w=a[s];

  document.getElementById("card").innerHTML=`<div class="card-top"><span class="counter">${s+1} / ${a.length}</span><div class="card-top-right"><span class="side-label">${flipped?'ANSWER':'CLUES'}</span><button class="mark-btn ${markedWords.has(g)?'active':''}" onclick="toggleMark(${g})">${starSvg(markedWords.has(g))}</button></div></div>`+(flipped?renderBack(w):renderFront(w));

  if(flipped && w.isNoun&&!imageCache[w.word]&&!imageLoading[w.word]) fetchImage(w.word);

  // Slider
  const totalA = a.length;
  const pct = totalA > 1 ? s / (totalA - 1) * 100 : 0;
  document.getElementById("sliderFill").style.width = pct + "%";
  const sliderArea = document.getElementById("sliderArea");
  const areaW = sliderArea.offsetWidth || 200;
  const pad = 10;
  const thumbLeft = pad + (pct / 100) * (areaW - pad * 2);
  const thumb = document.getElementById("sliderThumb");
  if(!thumb.classList.contains('dragging')) thumb.style.left = thumbLeft + "px";

  // Ticks - show ~20 evenly spaced markers
  const tickCount = Math.min(totalA, 20);
  let ticksHtml = '';
  for(let t=0; t<tickCount; t++){
    const ti = Math.round(t / (tickCount-1) * (totalA-1));
    const cls = ti===s ? 'active' : (t % 5 === 0 ? 'major' : '');
    ticksHtml += `<div class="slider-tick ${cls}"></div>`;
  }
  document.getElementById("sliderDots").innerHTML = ticksHtml;
  document.getElementById("sliderCounter").textContent = `${s+1} / ${totalA}`;

  // Mode btn
  const mb=document.getElementById("modeBtn");
  mb.className="mode-btn"+(markedOnly?" active":"");
  mb.querySelector("svg").setAttribute("fill",markedOnly?"currentColor":"none");
  document.getElementById("modeBtnText").textContent=(markedOnly?"Marked":"All")+` (${markedOnly?markedWords.size:WORDS.length})`;
}

function jumpTo(idx) {
  const a=aw(); if(idx<0||idx>=a.length) return;
  const g=WORDS.findIndex(w=>w.word===a[idx].word);
  flipped=false; currentIndex=g; render();
  setTimeout(()=>speak(a[idx].word),200);
}

function navigateTo(dir) {
  const a=aw(); if(!a.length) return;
  const s=si(), card=document.getElementById("card");
  card.classList.add(dir==="left"?"slide-out-l":"slide-out-r");
  flipped=false;
  setTimeout(()=>{
    card.classList.remove("slide-out-l","slide-out-r");
    const ni=dir==="left"?(s+1)%a.length:(s-1+a.length)%a.length;
    currentIndex=WORDS.findIndex(w=>w.word===a[ni].word);
    render(); setTimeout(()=>speak(a[ni].word),150);
  },220);
}

function flipCard(){flipped=!flipped;render();}
function toggleMark(g){markedWords.has(g)?markedWords.delete(g):markedWords.add(g);render();}
function toggleMarkedOnly(){if(!markedOnly&&markedWords.size===0)return;markedOnly=!markedOnly;flipped=false;render();}

// Swipe
const ca=document.getElementById("cardArea");
let swiped=false;
ca.addEventListener("touchstart",e=>{touchStartX=e.touches[0].clientX;swiped=false;},{passive:true});
ca.addEventListener("touchmove",e=>{swipeX=e.touches[0].clientX-touchStartX;if(Math.abs(swipeX)>15)swiped=true;},{passive:true});
ca.addEventListener("touchend",()=>{if(Math.abs(swipeX)>50)navigateTo(swipeX<0?"left":"right");swipeX=0;});

// Card tap to flip
const card=document.getElementById("card");
card.addEventListener("click",e=>{
  if(e.target.closest('button')||swiped) return;
  flipCard();
});

// Slider drag
const slArea=document.getElementById("sliderArea");
const slThumb=document.getElementById("sliderThumb");
let slDragging=false;
function sliderFromX(cx){
  const r=slArea.getBoundingClientRect();
  const pad=10;
  const p=Math.max(0,Math.min(1,(cx-r.left-pad)/(r.width-pad*2)));
  const a=aw(),idx=Math.round(p*(a.length-1));
  // Move thumb immediately for smooth feel
  const thumbLeft=pad+(p)*(r.width-pad*2);
  slThumb.style.left=thumbLeft+"px";
  if(idx!==si()){
    const g=WORDS.findIndex(w=>w.word===a[idx].word);
    flipped=false; currentIndex=g; render();
  }
}
slArea.addEventListener("touchstart",e=>{
  slDragging=true; slThumb.classList.add('dragging');
  sliderFromX(e.touches[0].clientX);
},{passive:true});
document.addEventListener("touchmove",e=>{
  if(slDragging) sliderFromX(e.touches[0].clientX);
},{passive:true});
document.addEventListener("touchend",()=>{
  if(slDragging){
    slDragging=false; slThumb.classList.remove('dragging');
    // Speak the word after releasing
    const a=aw(),s=si();
    if(a[s]) setTimeout(()=>speak(a[s].word),100);
  }
});
slArea.addEventListener("mousedown",e=>{
  slDragging=true; slThumb.classList.add('dragging');
  sliderFromX(e.clientX); e.preventDefault();
});
document.addEventListener("mousemove",e=>{
  if(slDragging) sliderFromX(e.clientX);
});
document.addEventListener("mouseup",()=>{
  if(slDragging){
    slDragging=false; slThumb.classList.remove('dragging');
    const a=aw(),s=si();
    if(a[s]) setTimeout(()=>speak(a[s].word),100);
  }
});

// Keyboard
document.addEventListener("keydown",e=>{
  if(e.key==="ArrowRight")navigateTo("left");
  else if(e.key==="ArrowLeft")navigateTo("right");
  else if(e.key===" "){e.preventDefault();flipCard();}
});

render();
setTimeout(()=>speak(WORDS[0].word),500);
</script>
</body>
</html>
